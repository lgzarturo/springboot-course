name: üöÄ Feature Request
description: Proponer una nueva funcionalidad siguiendo TDD y arquitectura hexagonal
title: "[FEATURE] "
labels: ["enhancement", "triage"]
assignees: []

body:
  - type: markdown
    attributes:
      value: |
        ## Nueva funcionalidad
        Describe la feature que quieres implementar. Recuerda seguir TDD (Red-Green-Refactor) y respetar la arquitectura hexagonal.

  - type: input
    id: sprint
    attributes:
      label: Sprint/Milestone
      description: ¬øA qu√© sprint o milestone pertenece?
      placeholder: "Ej: Sprint 1 - Validaci√≥n y Errores"
    validations:
      required: true

  - type: textarea
    id: description
    attributes:
      label: Descripci√≥n
      description: Explica qu√© funcionalidad quieres agregar y por qu√© es necesaria.
      placeholder: |
        Ejemplo: Implementar CRUD completo para el agregado Room (habitaciones) con validaciones de negocio.
    validations:
      required: true

  - type: textarea
    id: user-story
    attributes:
      label: Historia de usuario
      description: Define la historia desde la perspectiva del usuario/sistema.
      placeholder: |
        Como administrador del hotel
        Quiero crear, listar, actualizar y eliminar habitaciones
        Para gestionar el inventario disponible
      value: |
        **Como** [rol]
        **Quiero** [acci√≥n]
        **Para** [beneficio]
    validations:
      required: false

  - type: textarea
    id: acceptance-criteria
    attributes:
      label: Criterios de aceptaci√≥n
      description: Lista verificable de condiciones que deben cumplirse.
      placeholder: |
        - [ ] Endpoint POST /api/v1/rooms crea habitaci√≥n con validaci√≥n
        - [ ] Endpoint GET /api/v1/rooms lista con paginaci√≥n
        - [ ] Tests unitarios de RoomService con cobertura > 90%
        - [ ] Tests de integraci√≥n de RoomController con MockMvc
        - [ ] OpenAPI actualizado con ejemplos
      value: |
        - [ ]
    validations:
      required: true

  - type: dropdown
    id: layer
    attributes:
      label: Capas afectadas
      description: ¬øQu√© capas de la arquitectura se modificar√°n?
      multiple: true
      options:
        - Domain (model, port, service)
        - Infrastructure - REST (controller, dto, mapper)
        - Infrastructure - Persistence (entity, repository, adapter)
        - Config (WebConfig, SecurityConfig, etc.)
        - Shared (constants, utils, extensions)
    validations:
      required: true

  - type: dropdown
    id: priority
    attributes:
      label: Prioridad
      options:
        - üî¥ Alta (bloqueante)
        - üü° Media (importante)
        - üü¢ Baja (nice to have)
    validations:
      required: true

  - type: textarea
    id: tdd-approach
    attributes:
      label: Enfoque TDD
      description: Describe el ciclo Red-Green-Refactor que seguir√°s.
      placeholder: |
        1. **Red**: Escribir RoomServiceTest.shouldCreateRoomWithValidData (falla)
        2. **Green**: Implementar Room, RoomService, RoomUseCase m√≠nimos
        3. **Refactor**: Extraer validaciones a m√©todos privados, mejorar nombres
      value: |
        1. **Red**: 
        2. **Green**: 
        3. **Refactor**:
    validations:
      required: false

  - type: textarea
    id: technical-notes
    attributes:
      label: Notas t√©cnicas
      description: Decisiones de dise√±o, dependencias nuevas, patrones a aplicar.
      placeholder: |
        - Usar patr√≥n Repository para persistencia
        - Validar unicidad de n√∫mero de habitaci√≥n con @Query
        - Mapear RoomEntity ‚Üî Room con RoomEntityMapper
    validations:
      required: false

  - type: textarea
    id: related-issues
    attributes:
      label: Issues relacionados
      description: Enlaces a issues dependientes o relacionados.
      placeholder: |
        - Depende de #9 (setup-flyway-profiles)
        - Relacionado con #10 (domain-room-entity)
    validations:
      required: false

  - type: checkboxes
    id: checklist
    attributes:
      label: Checklist de implementaci√≥n
      description: Marca lo que aplicar√° a esta feature.
      options:
        - label: Requiere migraci√≥n de base de datos (Flyway)
        - label: Requiere actualizaci√≥n de OpenAPI/Swagger
        - label: Requiere actualizaci√≥n de Wiki/README
        - label: Requiere nuevas dependencias en build.gradle.kts
        - label: Impacta seguridad (autenticaci√≥n/autorizaci√≥n)
        - label: Requiere tests E2E con Testcontainers
